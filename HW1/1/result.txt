# Конвейер 1: использует ps для мониторинга активных процессов в системе, grep для фильтрации процессов, связанных с пользователем root,
# awk для вывода столбцов PID, %CPU, COMMAND, sort для сортировки результатов по убыванию по %CPU и записывает всё в файл system_monitoring.txt
ps aux | grep root | awk '{print $2, $3, $NF}' | sort -k2 -nr > system_monitoring.txt

# Конвейер 2: использует find для нахождения всех файлов с раширением .txt размером меньше 1Мб в домашней директории (не рекурсивно),
# передаёт через xargs их команде cat, которая отдаёт их содержимое wc для вывода в консоль общего числа строк в них
find ~ -maxdepth 1 -type f -name "*.txt" -size 1M | xargs cat | wc -l

# Конвейер 3: использует df для мониторинга использования дискового пространства, awk для вывода столбцов Filesystem, Avail, Mounted on,
# sort для сортировки результатов по возрастанию Avail и записывает всё в файл disk_space_usage.txt
df -h | awk '{print $1, $4, $6}' | sort -k2 -h > disk_space_usage.txt

# Конвейер 4: использует find для нахождения файлов с расширением .log в директории /var/log (рекурсивно),
# grep для фильтрации строк, содержащих слово WARNING, в этих файлах, снова grep для поиска в этих строках IP-адресов в формате XXX.XXX.XXX.XXX,
# sort -u для отбора уникальных адресов (и их сортирорвки) и записывает всё в файл unique_warnings_ips.txt
find /var/log -type f -name "*.log" -exec grep "WARNING" {} ';' | grep -oE "([0-9]{1,3}\.){3}[0-9]{1,3}" | sort -u > unique_warnings_ips.txt